<section data-ng-init="find()">

	<ul class="events unstyled">
        <div class="page-header">
            <h2>Events</h2>
        </div>
        <li data-ng-repeat="event in events | slice: (confPagination.currentPage * confPagination.pageSize - confPagination.pageSize) : confPagination.currentPage * confPagination.pageSize">
            <div class="row bottom-space">
                    <div class="span1">
                       <div class="circle">
                           <span class="event-date">{{event.periodFrom | date:'MMM'}}<br>{{event.periodFrom | date:'dd'}}</span>
                       </div>
                    </div>
                    <div class="span9">

                        <h4><a data-ng-href="#!/events/{{event._id}}">{{event.title}}</a></h4>
                        <h5>
                            <div ng-show="event.periodFrom">From: {{event.periodFrom | date:'fullDate'}}</div>
                            <div ng-show="event.periodTo">To: {{event.periodTo | date:'fullDate'}}</div>
                        </h5>

                        <!--<img ng-show="showImage(event)" width="630" height="300" ng-src="/uploads/{{event.file_url}}">-->
                        <a data-ng-href="#!/events/{{event._id}}">
                            <img ng-show="showImage(event)" width="315" height="150" ng-src="/uploads/{{event.file_url}}">
                        </a>
                        <p>
                            {{event.content}}
                        </p>
                        <span>Created: {{event.created | date:'medium'}}</span><br><span>By: {{event.user.name}}</span>
                    </div>
            </div>
		</li>
	</ul>
	<h1 data-ng-hide="!events || events.length">No events yet. <br> Why don't you <a ng-href="/#!/events/create">Create One</a>?</h1>



    <div data-ng-show="!events || events.length > 10" class="well well-small">
        <pagination total-items="confPagination.totalItems"
                    page="confPagination.currentPage"
                    max-size="confPagination.maxSize"
                    class="pagination"
                    boundary-links= confPagination.boundaryLinks>
        </pagination>
    </div>


</section>